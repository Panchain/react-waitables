<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>react-waitables</title><meta name="description" content="Documentation for react-waitables"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">react-waitables</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>react-waitables </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#react-waitables" id="react-waitables" style="color: inherit; text-decoration: none;">
  <h1>react-waitables</h1>
</a>
<p><a href="https://www.npmjs.com/package/react-waitables"><img src="https://img.shields.io/npm/dm/react-waitables.svg" alt="Downloads"></a>
<a href="https://bundlephobia.com/result?p=react-waitables"><img src="https://img.shields.io/bundlephobia/minzip/react-waitables.svg" alt="Size"></a></p>
<p>Async Data Bindings for React</p>
<p>Waitables represent asynchronous functionality that can be observed and controlled in a variety of ways.  Waitables are built on top of Bindings and the concepts in <a href="https://www.npmjs.com/package/react-bindings">react-bindings</a>.</p>
<p>With waitables, we can:</p>
<ul>
<li>wait for a value or error to be produced or modified</li>
<li>re-execute automatically when certain conditions are met, or manually on demand</li>
<li>prevent execution under certain conditions</li>
<li>derive values from other synchronously or asynchronously produced values, including from bindings and waitables</li>
</ul>

<a href="#basic-example" id="basic-example" style="color: inherit; text-decoration: none;">
  <h2>Basic Example</h2>
</a>
<p>In the following example, we demonstrate creating a waitable function that generates a random value after a 1 second delay.  We also add a button that, when clicked, &quot;hard&quot; resets the waitable.</p>
<p>When a waitable is hard reset, any previous values are cleared and the primary function is re-executed.</p>
<p>We also demonstrate logging and observing changes and using <code>WaitablesConsumer</code> to dynamically render content dependent on the waitable&#39;s value.</p>
<p><code>WaitablesConsumer</code> supports using different renderers depending on the overall state of the dependencies (&quot;loaded&quot;, &quot;loading&quot;, or &quot;error&quot;).  In the following example, we demonstrate two of the possible state renderer options: &quot;loading&quot; and &quot;loaded&quot; (implicitly represented by the child function).</p>
<p><a href="https://codesandbox.io/s/great-golick-h1z9vu">Try it Out â€“ CodeSandbox</a></p>
<pre><code class="language-typescript"><span class="hl-7">import</span><span class="hl-0"> </span><span class="hl-1">React</span><span class="hl-0"> </span><span class="hl-7">from</span><span class="hl-0"> </span><span class="hl-2">&#39;react&#39;</span><span class="hl-0">;</span><br/><span class="hl-7">import</span><span class="hl-0"> { </span><span class="hl-1">useBindingEffect</span><span class="hl-0"> } </span><span class="hl-7">from</span><span class="hl-0"> </span><span class="hl-2">&#39;react-bindings&#39;</span><span class="hl-0">;</span><br/><span class="hl-7">import</span><span class="hl-0"> { </span><span class="hl-1">useWaitableFunction</span><span class="hl-0">, </span><span class="hl-1">WaitablesConsumer</span><span class="hl-0"> } </span><span class="hl-7">from</span><span class="hl-0"> </span><span class="hl-2">&#39;react-waitables&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-7">export</span><span class="hl-0"> </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-6">MyComponent</span><span class="hl-0"> = () </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">myWaitable</span><span class="hl-0"> = </span><span class="hl-6">useWaitableFunction</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-3">async</span><span class="hl-0"> () </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-8">// Sleep for 1 second</span><br/><span class="hl-0">      </span><span class="hl-7">await</span><span class="hl-0"> </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-4">Promise</span><span class="hl-0">((</span><span class="hl-1">resolve</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> </span><span class="hl-6">setTimeout</span><span class="hl-0">(</span><span class="hl-1">resolve</span><span class="hl-0">, </span><span class="hl-9">1000</span><span class="hl-0">));</span><br/><span class="hl-0">      </span><span class="hl-8">// Generate a random 0-99 value</span><br/><span class="hl-0">      </span><span class="hl-7">return</span><span class="hl-0"> { </span><span class="hl-1">ok:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">, </span><span class="hl-1">value:</span><span class="hl-0"> </span><span class="hl-4">Math</span><span class="hl-0">.</span><span class="hl-6">floor</span><span class="hl-0">(</span><span class="hl-4">Math</span><span class="hl-0">.</span><span class="hl-6">random</span><span class="hl-0">() * </span><span class="hl-9">100</span><span class="hl-0">) };</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    { </span><span class="hl-1">id:</span><span class="hl-0"> </span><span class="hl-2">&#39;myWaitable&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">  );</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// Getting and logging the value of the waitable.  The value will be undefined because it takes about 1 second to generate since we&#39;re</span><br/><span class="hl-0">  </span><span class="hl-8">// sleeping for 1 second in the producer function</span><br/><span class="hl-0">  </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">&#39;myWaitable value&#39;</span><span class="hl-0">, </span><span class="hl-1">myWaitable</span><span class="hl-0">.</span><span class="hl-1">value</span><span class="hl-0">.</span><span class="hl-6">get</span><span class="hl-0">()); </span><span class="hl-8">// myWaitable value undefined</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// Logging the other waitable state information</span><br/><span class="hl-0">  </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">&#39;myWaitable error&#39;</span><span class="hl-0">, </span><span class="hl-1">myWaitable</span><span class="hl-0">.</span><span class="hl-1">error</span><span class="hl-0">.</span><span class="hl-6">get</span><span class="hl-0">()); </span><span class="hl-8">// myWaitable error undefined</span><br/><span class="hl-0">  </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">&#39;myWaitable isComplete&#39;</span><span class="hl-0">, </span><span class="hl-1">myWaitable</span><span class="hl-0">.</span><span class="hl-1">isComplete</span><span class="hl-0">.</span><span class="hl-6">get</span><span class="hl-0">()); </span><span class="hl-8">// myWaitable isComplete false</span><br/><span class="hl-0">  </span><span class="hl-8">// The waitable won&#39;t have started execution yet, at least not on the first render of MyComponent</span><br/><span class="hl-0">  </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">&#39;myWaitable isBusy&#39;</span><span class="hl-0">, </span><span class="hl-1">myWaitable</span><span class="hl-0">.</span><span class="hl-1">isBusy</span><span class="hl-0">.</span><span class="hl-6">get</span><span class="hl-0">()); </span><span class="hl-8">// myWaitable isBusy false</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// Registering a callback that will be triggered anytime the value binding changes, while this component is mounted.</span><br/><span class="hl-0">  </span><span class="hl-8">// By default, these calls are debounced.</span><br/><span class="hl-0">  </span><span class="hl-6">useBindingEffect</span><span class="hl-0">({ </span><span class="hl-1">value:</span><span class="hl-0"> </span><span class="hl-1">myWaitable</span><span class="hl-0">.</span><span class="hl-1">value</span><span class="hl-0"> }, ({ </span><span class="hl-1">value</span><span class="hl-0"> }) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-1">console</span><span class="hl-0">.</span><span class="hl-6">log</span><span class="hl-0">(</span><span class="hl-2">&#39;myWaitable value&#39;</span><span class="hl-0">, </span><span class="hl-1">value</span><span class="hl-0">);</span><br/><span class="hl-0">  });</span><br/><br/><span class="hl-0">  </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-6">onUpdateClick</span><span class="hl-0"> = () </span><span class="hl-3">=&gt;</span><span class="hl-0"> </span><span class="hl-1">myWaitable</span><span class="hl-0">.</span><span class="hl-6">reset</span><span class="hl-0">(</span><span class="hl-2">&#39;hard&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// The rendered component includes a portion that will be automatically rerendered whenever the waitable changes.</span><br/><span class="hl-0">  </span><span class="hl-8">// By default, these rerenders are debounced.</span><br/><span class="hl-0">  </span><span class="hl-7">return</span><span class="hl-0"> (</span><br/><span class="hl-0">    &lt;</span><span class="hl-4">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">      </span><span class="hl-1">myWaitable</span><span class="hl-0"> </span><span class="hl-1">value</span><span class="hl-0">:&amp;</span><span class="hl-4">nbsp</span><span class="hl-0">;</span><br/><span class="hl-0">      &lt;</span><span class="hl-1">WaitablesConsumer</span><span class="hl-0"> </span><span class="hl-1">dependencies</span><span class="hl-0">={{ </span><span class="hl-1">value:</span><span class="hl-0"> </span><span class="hl-1">myWaitable</span><span class="hl-0"> }} </span><span class="hl-1">ifLoading</span><span class="hl-0">={() =&gt; </span><span class="hl-2">&#39;loadingâ€¦&#39;</span><span class="hl-0">}&gt;</span><br/><span class="hl-0">        {({ </span><span class="hl-1">value</span><span class="hl-0"> }) =&gt; </span><span class="hl-1">value</span><span class="hl-0">}</span><br/><span class="hl-0">      &lt;/</span><span class="hl-1">WaitablesConsumer</span><span class="hl-0">&gt;</span><br/><span class="hl-0">      &amp;</span><span class="hl-1">nbsp</span><span class="hl-0">;</span><br/><span class="hl-0">      &lt;</span><span class="hl-1">button</span><span class="hl-0"> </span><span class="hl-1">onClick</span><span class="hl-0">={</span><span class="hl-1">onUpdateClick</span><span class="hl-0">}&gt;</span><span class="hl-1">Update</span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span><br/><span class="hl-0">    &lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">  );</span><br/><span class="hl-0">};</span>
</code></pre>
<p>Waitables are even more interesting when associated with dynamically loaded content or when they&#39;re chained together with other waitables and bindings.</p>

<a href="#another-example" id="another-example" style="color: inherit; text-decoration: none;">
  <h2>Another Example</h2>
</a>
<p>In the following example, we use <code>fetch</code> to load data dynamically, setting the value or error of the waitable depending on if the request succeeds or fails.</p>
<p>We also create a second waitable derived from the first waitable and another binding, which we use to choose between rendering the type of the data in all caps or lowercase.</p>
<p><a href="https://codesandbox.io/s/epic-microservice-vmvrdd">Try it Out â€“ CodeSandbox</a></p>
<pre><code class="language-typescript"><span class="hl-7">import</span><span class="hl-0"> </span><span class="hl-1">React</span><span class="hl-0"> </span><span class="hl-7">from</span><span class="hl-0"> </span><span class="hl-2">&#39;react&#39;</span><span class="hl-0">;</span><br/><span class="hl-7">import</span><span class="hl-0"> { </span><span class="hl-1">BindingsConsumer</span><span class="hl-0">, </span><span class="hl-1">useBinding</span><span class="hl-0"> } </span><span class="hl-7">from</span><span class="hl-0"> </span><span class="hl-2">&#39;react-bindings&#39;</span><span class="hl-0">;</span><br/><span class="hl-7">import</span><span class="hl-0"> { </span><span class="hl-1">useDerivedWaitable</span><span class="hl-0">, </span><span class="hl-1">useWaitableFunction</span><span class="hl-0">, </span><span class="hl-1">WaitablesConsumer</span><span class="hl-0"> } </span><span class="hl-7">from</span><span class="hl-0"> </span><span class="hl-2">&#39;react-waitables&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-7">export</span><span class="hl-0"> </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-6">MyComponent</span><span class="hl-0"> = () </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">myWaitable</span><span class="hl-0"> = </span><span class="hl-6">useWaitableFunction</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-3">async</span><span class="hl-0"> () </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-7">try</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">response</span><span class="hl-0"> = </span><span class="hl-7">await</span><span class="hl-0"> </span><span class="hl-6">fetch</span><span class="hl-0">(</span><span class="hl-2">&#39;https://raw.githubusercontent.com/bahamas10/css-color-names/master/css-color-names.json&#39;</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">data</span><span class="hl-0"> = </span><span class="hl-7">await</span><span class="hl-0"> </span><span class="hl-1">response</span><span class="hl-0">.</span><span class="hl-6">json</span><span class="hl-0">();</span><br/><span class="hl-0">        </span><span class="hl-7">if</span><span class="hl-0"> (</span><span class="hl-1">data</span><span class="hl-0"> !== </span><span class="hl-3">undefined</span><span class="hl-0">) {</span><br/><span class="hl-0">          </span><span class="hl-7">return</span><span class="hl-0"> { </span><span class="hl-1">ok:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">, </span><span class="hl-1">value:</span><span class="hl-0"> </span><span class="hl-1">data</span><span class="hl-0"> };</span><br/><span class="hl-0">        } </span><span class="hl-7">else</span><span class="hl-0"> {</span><br/><span class="hl-0">          </span><span class="hl-7">return</span><span class="hl-0"> { </span><span class="hl-1">ok:</span><span class="hl-0"> </span><span class="hl-3">false</span><span class="hl-0">, </span><span class="hl-1">value:</span><span class="hl-0"> { </span><span class="hl-1">status:</span><span class="hl-0"> </span><span class="hl-1">response</span><span class="hl-0">.</span><span class="hl-1">status</span><span class="hl-0"> } };</span><br/><span class="hl-0">        }</span><br/><span class="hl-0">      } </span><span class="hl-7">catch</span><span class="hl-0"> (</span><span class="hl-1">error</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-7">return</span><span class="hl-0"> { </span><span class="hl-1">ok:</span><span class="hl-0"> </span><span class="hl-3">false</span><span class="hl-0">, </span><span class="hl-1">value:</span><span class="hl-0"> { </span><span class="hl-1">error</span><span class="hl-0"> } };</span><br/><span class="hl-0">      }</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    { </span><span class="hl-1">id:</span><span class="hl-0"> </span><span class="hl-2">&#39;myWaitable&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">  );</span><br/><br/><span class="hl-0">  </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-6">onTryAgainClick</span><span class="hl-0"> = () </span><span class="hl-3">=&gt;</span><span class="hl-0"> </span><span class="hl-1">myWaitable</span><span class="hl-0">.</span><span class="hl-6">reset</span><span class="hl-0">(</span><span class="hl-2">&#39;hard&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-0">  </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">allCaps</span><span class="hl-0"> = </span><span class="hl-6">useBinding</span><span class="hl-0">(() </span><span class="hl-3">=&gt;</span><span class="hl-0"> </span><span class="hl-3">false</span><span class="hl-0">, { </span><span class="hl-1">id:</span><span class="hl-0"> </span><span class="hl-2">&#39;allCaps&#39;</span><span class="hl-0"> });</span><br/><span class="hl-0">  </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-6">toggleAllCaps</span><span class="hl-0"> = () </span><span class="hl-3">=&gt;</span><span class="hl-0"> </span><span class="hl-1">allCaps</span><span class="hl-0">.</span><span class="hl-6">set</span><span class="hl-0">(!</span><span class="hl-1">allCaps</span><span class="hl-0">.</span><span class="hl-6">get</span><span class="hl-0">());</span><br/><br/><span class="hl-0">  </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">myWaitableType</span><span class="hl-0"> = </span><span class="hl-6">useDerivedWaitable</span><span class="hl-0">(</span><br/><span class="hl-0">    { </span><span class="hl-1">allCaps</span><span class="hl-0">, </span><span class="hl-1">myWaitable</span><span class="hl-0"> },</span><br/><span class="hl-0">    ({ </span><span class="hl-1">allCaps</span><span class="hl-0">, </span><span class="hl-1">myWaitable</span><span class="hl-0"> }) </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">type</span><span class="hl-0">: </span><span class="hl-4">string</span><span class="hl-0"> = </span><span class="hl-3">typeof</span><span class="hl-0"> </span><span class="hl-1">myWaitable</span><span class="hl-0">;</span><br/><span class="hl-0">      </span><span class="hl-7">return</span><span class="hl-0"> </span><span class="hl-1">allCaps</span><span class="hl-0"> ? </span><span class="hl-1">type</span><span class="hl-0">.</span><span class="hl-6">toLocaleUpperCase</span><span class="hl-0">() : </span><span class="hl-1">type</span><span class="hl-0">.</span><span class="hl-6">toLocaleLowerCase</span><span class="hl-0">();</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    { </span><span class="hl-1">id:</span><span class="hl-0"> </span><span class="hl-2">&#39;myWaitableType&#39;</span><span class="hl-0"> }</span><br/><span class="hl-0">  );</span><br/><br/><span class="hl-0">  </span><span class="hl-8">// The rendered component includes three dynamic portions.</span><br/><span class="hl-0">  </span><span class="hl-8">//</span><br/><span class="hl-0">  </span><span class="hl-8">// The first presents the value of the loaded data as stringified JSON.  If the data isn&#39;t loaded yet, it shows a loading message.  If an</span><br/><span class="hl-0">  </span><span class="hl-8">// error has occurred, it shows an error indicator message and a button that lets users retry.</span><br/><span class="hl-0">  </span><span class="hl-8">//</span><br/><span class="hl-0">  </span><span class="hl-8">// The second dynamic portion renders the type of data that was returned, either in all caps or lowercase.</span><br/><span class="hl-0">  </span><span class="hl-8">//</span><br/><span class="hl-0">  </span><span class="hl-8">// The final dynamic portion is the label on the button, which changes to let users know the effect of clicking the button.</span><br/><span class="hl-0">  </span><span class="hl-7">return</span><span class="hl-0"> (</span><br/><span class="hl-0">    &lt;&gt;</span><br/><span class="hl-0">      &lt;</span><span class="hl-4">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">        </span><span class="hl-1">myWaitable</span><span class="hl-0"> </span><span class="hl-1">value</span><span class="hl-0">:&amp;</span><span class="hl-4">nbsp</span><span class="hl-0">;</span><br/><span class="hl-0">        &lt;</span><span class="hl-1">WaitablesConsumer</span><br/><span class="hl-0">          </span><span class="hl-1">dependencies</span><span class="hl-0">={{ </span><span class="hl-1">value:</span><span class="hl-0"> </span><span class="hl-1">myWaitable</span><span class="hl-0"> }}</span><br/><span class="hl-0">          </span><span class="hl-1">ifLoading</span><span class="hl-0">={() =&gt; </span><span class="hl-2">&#39;loadingâ€¦&#39;</span><span class="hl-0">}</span><br/><span class="hl-0">          </span><span class="hl-1">ifError</span><span class="hl-0">={() =&gt; (</span><br/><span class="hl-0">            &lt;&gt;</span><br/><span class="hl-0">              &lt;span&gt;something went wrong&amp;nbsp;&lt;/span&gt;</span><br/><span class="hl-0">              &lt;button </span><span class="hl-1">onClick</span><span class="hl-0">={</span><span class="hl-1">onTryAgainClick</span><span class="hl-0">}&gt;</span><span class="hl-1">Try</span><span class="hl-0"> </span><span class="hl-1">Again</span><span class="hl-0">&lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span><br/><span class="hl-0">            &lt;/&gt;</span><br/><span class="hl-0">          )}</span><br/><span class="hl-0">        &gt;</span><br/><span class="hl-0">          {({ </span><span class="hl-1">value</span><span class="hl-0"> }) =&gt; </span><span class="hl-4">JSON</span><span class="hl-0">.</span><span class="hl-6">stringify</span><span class="hl-0">(</span><span class="hl-1">value</span><span class="hl-0">)}</span><br/><span class="hl-0">        &lt;/</span><span class="hl-1">WaitablesConsumer</span><span class="hl-0">&gt;</span><br/><span class="hl-0">      &lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">      &lt;</span><span class="hl-4">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">        &lt;</span><span class="hl-1">WaitablesConsumer</span><span class="hl-0"> </span><span class="hl-1">dependencies</span><span class="hl-0">={{ </span><span class="hl-1">type:</span><span class="hl-0"> </span><span class="hl-1">myWaitableType</span><span class="hl-0"> }}&gt;{({ </span><span class="hl-1">type</span><span class="hl-0"> }) </span><span class="hl-3">=&gt;</span><span class="hl-0"> &lt;</span><span class="hl-4">span</span><span class="hl-0">&gt;&amp;</span><span class="hl-1">nbsp</span><span class="hl-0">;({</span><span class="hl-1">type</span><span class="hl-0">})&lt;/</span><span class="hl-1">span</span><span class="hl-0">&gt;}&lt;/</span><span class="hl-1">WaitablesConsumer</span><span class="hl-0">&gt;</span><br/><span class="hl-0">      &lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">      &lt;</span><span class="hl-4">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">        &lt;</span><span class="hl-1">button</span><span class="hl-0"> </span><span class="hl-1">onClick</span><span class="hl-0">={</span><span class="hl-1">toggleAllCaps</span><span class="hl-0">}&gt;</span><br/><span class="hl-0">          &lt;</span><span class="hl-1">BindingsConsumer</span><span class="hl-0"> </span><span class="hl-1">bindings</span><span class="hl-0">={{ </span><span class="hl-1">allCaps</span><span class="hl-0"> }}&gt;</span><br/><span class="hl-0">            {({ </span><span class="hl-1">allCaps</span><span class="hl-0"> }) </span><span class="hl-3">=&gt;</span><span class="hl-0"> (</span><span class="hl-1">allCaps</span><span class="hl-0"> ? </span><span class="hl-2">&#39;Switch to Lowercase&#39;</span><span class="hl-0"> : </span><span class="hl-2">&#39;Switch to Uppercase&#39;</span><span class="hl-0">)}</span><br/><span class="hl-0">          &lt;/</span><span class="hl-1">BindingsConsumer</span><span class="hl-0">&gt;</span><br/><span class="hl-0">        &lt;/</span><span class="hl-1">button</span><span class="hl-0">&gt;</span><br/><span class="hl-0">      &lt;/</span><span class="hl-1">div</span><span class="hl-0">&gt;</span><br/><span class="hl-0">    &lt;/&gt;</span><br/><span class="hl-0">  );</span><br/><span class="hl-0">};</span>
</code></pre>

<a href="#default-value-example" id="default-value-example" style="color: inherit; text-decoration: none;">
  <h2>Default Value Example</h2>
</a>
<p>Instead of returning an undefined value by default, your waitables can synchronously or asynchronously compute a more useful default, as
demonstrated in the following example (based on the first example from above):</p>
<pre><code class="language-typescript"><span class="hl-3">const</span><span class="hl-0"> </span><span class="hl-5">myWaitable</span><span class="hl-0"> = </span><span class="hl-6">useWaitableFunction</span><span class="hl-0">(</span><br/><span class="hl-0">  </span><span class="hl-3">async</span><span class="hl-0"> () </span><span class="hl-3">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-8">// Sleep for 1 second</span><br/><span class="hl-0">    </span><span class="hl-7">await</span><span class="hl-0"> </span><span class="hl-3">new</span><span class="hl-0"> </span><span class="hl-4">Promise</span><span class="hl-0">((</span><span class="hl-1">resolve</span><span class="hl-0">) </span><span class="hl-3">=&gt;</span><span class="hl-0"> </span><span class="hl-6">setTimeout</span><span class="hl-0">(</span><span class="hl-1">resolve</span><span class="hl-0">, </span><span class="hl-9">1000</span><span class="hl-0">));</span><br/><span class="hl-0">    </span><span class="hl-8">// Generate a random 0-99 value</span><br/><span class="hl-0">    </span><span class="hl-7">return</span><span class="hl-0"> { </span><span class="hl-1">ok:</span><span class="hl-0"> </span><span class="hl-3">true</span><span class="hl-0">, </span><span class="hl-1">value:</span><span class="hl-0"> </span><span class="hl-4">Math</span><span class="hl-0">.</span><span class="hl-6">floor</span><span class="hl-0">(</span><span class="hl-4">Math</span><span class="hl-0">.</span><span class="hl-6">random</span><span class="hl-0">() * </span><span class="hl-9">100</span><span class="hl-0">) };</span><br/><span class="hl-0">  },</span><br/><span class="hl-0">  { </span><span class="hl-1">id:</span><span class="hl-0"> </span><span class="hl-2">&#39;myWaitable&#39;</span><span class="hl-0">, </span><span class="hl-6">defaultValue</span><span class="hl-1">:</span><span class="hl-0"> () </span><span class="hl-3">=&gt;</span><span class="hl-0"> </span><span class="hl-9">0</span><span class="hl-0"> }</span><br/><span class="hl-0">);</span>
</code></pre>
<p>Get creative and consider using waitables with React contexts, inside hooks, and extending them using the <code>addFields</code> option.</p>
<p><a href="https://passfolio.github.io/react-waitables/">API Docs</a></p>

<a href="#thanks" id="thanks" style="color: inherit; text-decoration: none;">
  <h2>Thanks</h2>
</a>
<p>Thanks for checking it out.  Feel free to create issues or otherwise provide feedback.</p>
<p>react-waitables is maintained by the team at <a href="https://www.passfolio.com">Passfolio</a>.</p>
<!-- Definitions -->

</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/UseWaitableArgs.html" class="tsd-kind-icon">Use<wbr/>Waitable<wbr/>Args</a></li><li class="tsd-kind-interface"><a href="interfaces/WaitOptions.html" class="tsd-kind-icon">Wait<wbr/>Options</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/Waitable.html" class="tsd-kind-icon">Waitable</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/WaitablesConsumerNamedTransformers.html" class="tsd-kind-icon">Waitables<wbr/>Consumer<wbr/>Named<wbr/>Transformers</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ExtractOptionalNamedWaitablesAndBindingValues" class="tsd-kind-icon">Extract<wbr/>Optional<wbr/>Named<wbr/>Waitables<wbr/>And<wbr/>Binding<wbr/>Values</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ExtractRequiredNamedWaitablesAndBindingValues" class="tsd-kind-icon">Extract<wbr/>Required<wbr/>Named<wbr/>Waitables<wbr/>And<wbr/>Binding<wbr/>Values</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#InferResolvedPromisedType" class="tsd-kind-icon">Infer<wbr/>Resolved<wbr/>Promised<wbr/>Type</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#InferResolvedTypeOrPromisedType" class="tsd-kind-icon">Infer<wbr/>Resolved<wbr/>Type<wbr/>Or<wbr/>Promised<wbr/>Type</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#InferWaitableFailureType" class="tsd-kind-icon">Infer<wbr/>Waitable<wbr/>Failure<wbr/>Type</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#InferWaitableSuccessType" class="tsd-kind-icon">Infer<wbr/>Waitable<wbr/>Success<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ResetType" class="tsd-kind-icon">Reset<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SpecialLoggingType" class="tsd-kind-icon">Special<wbr/>Logging<wbr/>Type</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#TypeOrPromisedType" class="tsd-kind-icon">Type<wbr/>Or<wbr/>Promised<wbr/>Type</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#UseWaitableDefaultValueProducer" class="tsd-kind-icon">Use<wbr/>Waitable<wbr/>Default<wbr/>Value<wbr/>Producer</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#UseWaitableOnFailureCallback" class="tsd-kind-icon">Use<wbr/>Waitable<wbr/>On<wbr/>Failure<wbr/>Callback</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UseWaitableOnResetCallback" class="tsd-kind-icon">Use<wbr/>Waitable<wbr/>On<wbr/>Reset<wbr/>Callback</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#UseWaitableOnSuccessCallback" class="tsd-kind-icon">Use<wbr/>Waitable<wbr/>On<wbr/>Success<wbr/>Callback</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WaitResult" class="tsd-kind-icon">Wait<wbr/>Result</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#WaitablePrimaryFunction" class="tsd-kind-icon">Waitable<wbr/>Primary<wbr/>Function</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#WaitablesConsumerOptionalValuesTransformer" class="tsd-kind-icon">Waitables<wbr/>Consumer<wbr/>Optional<wbr/>Values<wbr/>Transformer</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#WaitablesConsumerProps" class="tsd-kind-icon">Waitables<wbr/>Consumer<wbr/>Props</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#WaitablesConsumerRequiredValuesTransformer" class="tsd-kind-icon">Waitables<wbr/>Consumer<wbr/>Required<wbr/>Values<wbr/>Transformer</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#WrappedResult" class="tsd-kind-icon">Wrapped<wbr/>Result</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#WaitablesConsumer" class="tsd-kind-icon">Waitables<wbr/>Consumer</a></li><li class="tsd-kind-function"><a href="modules.html#getDefaultWaitablesConsumerIfErrorTransformer" class="tsd-kind-icon">get<wbr/>Default<wbr/>Waitables<wbr/>Consumer<wbr/>If<wbr/>Error<wbr/>Transformer</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#ifWaitable" class="tsd-kind-icon">if<wbr/>Waitable</a></li><li class="tsd-kind-function"><a href="modules.html#isSpecialLoggingEnabledFor" class="tsd-kind-icon">is<wbr/>Special<wbr/>Logging<wbr/>Enabled<wbr/>For</a></li><li class="tsd-kind-function"><a href="modules.html#isWaitable" class="tsd-kind-icon">is<wbr/>Waitable</a></li><li class="tsd-kind-function"><a href="modules.html#setDefaultWaitablesConsumerIfErrorTransformer" class="tsd-kind-icon">set<wbr/>Default<wbr/>Waitables<wbr/>Consumer<wbr/>If<wbr/>Error<wbr/>Transformer</a></li><li class="tsd-kind-function"><a href="modules.html#setSpecialLoggingEnabledFor" class="tsd-kind-icon">set<wbr/>Special<wbr/>Logging<wbr/>Enabled<wbr/>For</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#useDerivedWaitable" class="tsd-kind-icon">use<wbr/>Derived<wbr/>Waitable</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#useWaitable" class="tsd-kind-icon">use<wbr/>Waitable</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#useWaitableFunction" class="tsd-kind-icon">use<wbr/>Waitable<wbr/>Function</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>